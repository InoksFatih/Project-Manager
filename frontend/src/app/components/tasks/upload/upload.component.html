<div *ngIf="!isDialogOpen"> <!-- Add ngIf to prevent interaction when dialog is open -->
  <!-- Your page content goes here -->
</div>

<div *ngIf="isDialogOpen" class="overlay-panel"></div> <!-- Add overlay panel when dialog is open -->

<!-- Upload Dialog -->
<ng-container *ngIf="isDialogOpen">
  <h1 mat-dialog-title>Upload</h1>
  <div mat-dialog-content>
    <div class="full-width">
      <label for="fileInput">Sélectionner un fichier</label>
      <input id="fileInput" type="file" (change)="onFileChange($event)" required>
    </div>
    <div *ngIf="attachement.file">
      <p>Nom du fichier : {{ attachement.file.name }}</p>
      <p>Type de fichier : {{ attachement.file.type }}</p>
    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-raised-button color="primary" [disabled]="!attachement.file" (click)="uploadAttachement()">
      {{ attachement.id ? 'Mettre à jour' : 'Upload' }}
    </button>
    <button mat-raised-button mat-dialog-close color="warn">Annuler</button>
  </div>
</ng-container>


<ng-container *ngIf="isDialogOpen && attachement.id">
  <h1 mat-dialog-title>Supprimer la pièce jointe</h1>
  <div mat-dialog-content>
    <p>Êtes-vous sûr de vouloir supprimer cette pièce jointe ?</p>
  </div>
  <div mat-dialog-actions>
    <button mat-raised-button color="primary" (click)="deleteAttachement()">Supprimer</button>
    <button mat-raised-button mat-dialog-close color="warn">Annuler</button>
  </div>
</ng-container>

<ng-container *ngIf="isDialogOpen && attachement.id">
  <h1 mat-dialog-title>Téléchargement</h1>
  <div mat-dialog-content>
    <p>Voulez-vous télécharger cette pièce jointe ?</p>
    <div>
      <p>Nom du fichier : {{ attachement.fileName }}</p>
      <p>Type de fichier : {{ attachement.fileType }}</p>
    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-raised-button color="primary" [disabled]="!attachement.id" (click)="downloadAttachement()">Télécharger</button>
    <button mat-raised-button mat-dialog-close color="warn">Annuler</button>
  </div>
</ng-container>
